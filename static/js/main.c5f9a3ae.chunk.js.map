{"version":3,"sources":["panels/Dad.js","panels/Home.js","App.js","index.js"],"names":["DragAndDrop","props","ballRef","React","createRef","handeleDown","bind","e","this","current","onmousedown","style","position","zIndex","document","body","appendChild","onmousemove","moveAt","onmouseup","ondragstart","left","pageX","offsetWidth","top","pageY","offsetHeight","stiker","sizeStiker","ref","onMouseDown","src","thumb_photo","alt","width","inputValueLong","height","inputValueHeight","Component","Home","state","checked","isLoad","items","itemsOption","itemsMarket","then","setState","pochta","filter","res","parseInt","id","length","textAlign","header","mode","className","type","value","onChange","target","display","placeholder","options","map","label","title","avatar","renderOption","option","restProps","before","size","handlerStiker","calculator","App","useState","setUser","a","bridge","send","access_token","market","response","useEffect","user","subscribe","detail","data","schemeAttribute","createAttribute","scheme","attributes","setNamedItem","fetchData","Market","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c5f9a3ae.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nclass DragAndDrop extends React.Component {\r\n    constructor(props){\r\n        super(props)\r\n    \r\n        this.ballRef = React.createRef()\r\n        this.handeleDown = this.handeleDown.bind(this)\r\n    }\r\n    handeleDown(e){\r\n        this.ballRef.current.onmousedown = () =>{\r\n\r\n            this.ballRef.current.style.position = 'absolute'\r\n            this.ballRef.current.style.zIndex = 1;\r\n\r\n            document.body.appendChild(this.ballRef.current)\r\n\r\n            document.onmousemove = (e) => {\r\n                this.moveAt(e)\r\n            }\r\n\r\n            this.ballRef.current.onmouseup = () => {\r\n                document.onmousemove = null;\r\n                this.ballRef.current.onmouseup = null;\r\n            }\r\n\r\n            this.ballRef.current.ondragstart = function() {\r\n                return false;\r\n            };\r\n        }\r\n    }\r\n    moveAt(e){\r\n        this.ballRef.current.style.left = e.pageX - this.ballRef.current.offsetWidth /2 + 'px'\r\n        this.ballRef.current.style.top = e.pageY - this.ballRef.current.offsetHeight /2 + 'px'\r\n    }\r\n    render(){\r\n        const {stiker, sizeStiker} = this.props\r\n        return (\r\n            <img ref={this.ballRef}\r\n                onMouseDown = {this.handeleDown}\r\n                src={stiker.thumb_photo} alt=\"\" width={sizeStiker.inputValueLong+4} height={sizeStiker.inputValueHeight+4}\r\n            />\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default DragAndDrop","import React from 'react';\nimport { Panel, PanelHeader, Header, Group,  Div, FormItem, Input, Checkbox, Select, CustomSelectOption, Avatar} from '@vkontakte/vkui';\nimport '../css/main.css'\nimport DragAndDrop from './Dad';\n\n\nclass Home extends React.Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {\n\t\t\tinputValueLong: 6,\n\t\t\tinputValueHeight: 6,\n\t\t\tchecked: false,\n\t\t\tisLoad: false,\n\t\t\titems: [],\n\t\t\titemsOption: 0,\n\t\t\tstiker: {}\n\t\t}\n\n\t\tthis.itemsMarket()\n\t}\n\t\n\titemsMarket(){\n\t\tconst {items} = this.props\n\t\titems.then(items => this.setState({\n\t\t\titems: items,\n\t\t\tisLoad: true\n\t\t}))\n\t}\n\n\tcalculator(){\n\t\tlet pochta = 0\n\n\t\tif(this.state.inputValueLong < 6 ) return ('Неверное значение')\n\t\tif(this.state.inputValueHeight < 6) return ('Неверное значение')\n\t\tif(this.state.checked) pochta = 100\n\n\t\tconst rezSumm = (this.state.inputValueLong + this.state.inputValueHeight) * 4\n\n\t\treturn (rezSumm + pochta)\n\t}\n\n\thandlerStiker(){\n\t\tlet stiker =  this.state.items.filter(res => parseInt(res.id) === parseInt(this.state.itemsOption))\n\n\t\tif (stiker.length > 0 )\n\t\treturn (\n\t\t\t<DragAndDrop stiker = {stiker[0]} sizeStiker = {{\n\t\t\t\tinputValueLong: this.state.inputValueLong,\n\t\t\t\tinputValueHeight: this.state.inputValueHeight\n\t\t\t}}/>\n\t\t)\n\t}\n\trender(){\n\t\treturn (\n\t\t\t<Panel style= {{height: '400px'}}>\n\t\t\t\t<PanelHeader style= {{textAlign: 'center'}}>Калькулятор</PanelHeader>\n\t\t\n\t\t\t\t<Group header={<Header mode=\"secondary\">Расчет стоимоти наклеек</Header>} style={{width: '600px', height: '500px'}}>\n\t\t\t\t\t<Div className = 'information'>\n\t\t\t\t\t\t<FormItem top ='Длина наклейки (СМ)'>\n\t\t\t\t\t\t\t<Input type = 'number' style= {{ width: '200px'}} value = {this.state.inputValueLong} onChange = {e =>this.setState({inputValueLong : parseInt(e.target.value)})} />\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t<FormItem top ='Ширина наклейки (СМ)' style= {{display: 'block'}} >\n\t\t\t\t\t\t\t<Input type = 'number'  style= {{ width: '200px' }} value= {this.state.inputValueHeight} onChange = {e => this.setState({inputValueHeight: parseInt(e.target.value)})}/>\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t\t<FormItem top = 'Доставка'>\n\t\t\t\t\t\t\t<Checkbox checked = {this.state.checked} onChange = {()=> this.setState({checked: !this.state.checked})}>Доставка почтой</Checkbox>\n\t\t\t\t\t\t</FormItem>\n\t\t\t\t\t</Div>\n\t\t\t\t\t<Div className = 'ilustrat'>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tplaceholder=\"Не выбран\" \n\t\t\t\t\t\t\toptions={this.state.items.map(items => ({ label: items.title, value: items.id, avatar: items.thumb_photo }))}\n\t\t\t\t\t\t\trenderOption={({ option, ...restProps }) => (\n\t\t\t\t\t\t\t\t<CustomSelectOption {...restProps} before={<Avatar size={24} src={option.avatar} />} />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonChange = {e => this.setState({itemsOption: e.target.value})}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t<div className = 'primire'>\n\t\t\t\t\t\t{this.handlerStiker()}\t\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className = \"textsumm\"><h1>Сумма: {this.calculator()} руб.</h1></div>\n\t\t\t\t\t</Div>\t\n\t\t\t\t</Group>\n\t\t\t</Panel>\n\t\t)\n\t}\n}\n\nexport default Home;\n","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport { View, AdaptivityProvider, AppRoot } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\nimport Home from './panels/Home';\n\nconst App = () => {\n\tconst [fetchedUser, setUser] = useState(null);\n\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\t\n\n\tasync function Market(){\n\n\t\tconst {access_token} = await bridge.send(\"VKWebAppGetAuthToken\", {\"app_id\": 7894696, \"scope\": \"market\"});\n\n\t\tconst market = await bridge.send(\"VKWebAppCallAPIMethod\", {\n\t\t\t\"method\": \"market.get\",\n\t\t\t\"params\": {\n\t\t\t\t'owner_id': -178902955,\n\t\t\t\t\"v\":\"5.131\", \n\t\t\t\t\"access_token\": `${access_token}`\n\t\t}})\n\t\treturn market.response.items\n\t}\n\treturn (\n\t\t<AdaptivityProvider>\n\t\t\t<AppRoot>\n\t\t\t\t<View  >\n\t\t\t\t\t<Home items  = {Market()} />\n\t\t\t\t</View>\n\t\t\t</AppRoot>\n\t\t</AdaptivityProvider>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}